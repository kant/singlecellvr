<html>
  <head>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://rawgit.com/protyze/aframe-curve-component/master/dist/aframe-curve-component.min.js"></script>
    <script src="https://rawgit.com/blairmacintyre/aframe-look-at-billboard-component/master/dist/aframe-look-at-billboard-component.min.js"></script>
    <script>
      AFRAME.registerComponent('change-color-on-hover', {
        schema: {
          color: {default: 'red'}
        },

        init: function () {
          var data = this.data;
          var el = this.el;  // <a-box>
          var defaultColor = el.getAttribute('material').color;

          el.addEventListener('mouseenter', function () {
            el.setAttribute('color', 'blue'); 
          });

          el.addEventListener('mouseleave', function () {
            el.setAttribute('color', defaultColor);
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene id="test">
<!--         <a-box color="#EF2D5E" position="0 1 -4" change-color-on-hover="color: blue"></a-box> -->
        <!-- TODO: Change positioning such that hud and main content cannot overlap -->
        <a-entity id="rig">
            <a-entity camera look-controls wasd-controls id="curve-camera">
                <a-entity geometry="primitive: plane; width: .022; height: .022;" material="color: black; opacity: .9;" position="-0.06 .023 -0.04">
                  <a-entity id="hudMapContainer">
                      <a-entity scale=".001 .001 .001" id="curve-map">

                      </a-entity>
                      <a-entity scale=".001 .001 .001" id="draw-map">

                      </a-entity>
                  </a-entity>
                </a-entity>
                <a-entity id="cursor" 
                          raycaster="near: 0; far: infinity;"
                          cursor
                          position="0 0 -1"
                          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat">
                </a-entity>
            </a-entity>
        </a-entity>
        
        <a-entity id="drawContainer" animation="property: rotation; dir: reverse; easing: linear; to: 0 360 0; loop: true; dur: 30000">
          <a-entity id="curve-container">

          </a-entity>
          <a-entity id="curve-draw">
  
          </a-entity>
          <a-entity id="cells"></a-entity>
        </a-entity>
      
        <a-box id="menu" geometry="primitive: plane; width:20; height: 20;" position="20 0 0" color="gray" opacity=".9"
                  change-color-on-hover="color: blue;" billboard>
            <a-entity geometry="primitive: plane; width: .09; height: .005"
                      text="align: left; value: Pause Rotation; color: red; width: .09;" id="pauseGlobalRotation"></a-entity>
        </a-box>
    </a-scene>
    <script src="./index.js"></script>
  </body>
</html>
